<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>三体运动模拟器</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div id="container">
        <div id="quotes-container">
            <div id="quote"></div>
        </div>

        <div id="simulation-container">
            <canvas id="simulationCanvas"></canvas>
        </div>

        <div id="info">
            <h3>操作说明 <button id="toggle-info">−</button></h3>
            <div id="info-content">
                <p>单指拖拽: 旋转视角</p>
                <p>双指缩放: 缩放</p>
                <p>双击天体: 聚焦到该天体</p>
                <p>单击天体: 查看天体信息</p>
                <div id="body-count">天体数量: 4</div>
                <div id="time-info">时间: 0.00</div>
                <div id="temperature-info">行星P表面温度: -- °C</div>
            </div>
        </div>

        <div id="body-info">
            <h3>天体信息 <button id="toggle-body-info">−</button></h3>
            <div id="body-info-content">
                <p>名称: <span id="body-name"></span></p>
                <p>质量: <span id="body-mass"></span></p>
                <p>速度: <span id="body-velocity"></span></p>
                <button id="focus-body">聚焦</button>
            </div>
        </div>

        <div id="collision-message"></div>
        <div id="temperature-message"></div>

        <div id="civilization-history-btn">显示三体文明历程</div>

        <div id="controls-container">
            <div id="controls-header">
                <h3>天体参数控制</h3>
                <button id="toggle-controls">展开</button>
            </div>

            <div id="controls-content">
                <div class="celestial-body">
                    <strong>恒星 α</strong>
                    <div><label>质量:</label><input type="number" id="alpha-mass" value="10000"></div>
                    <div><label>X位置:</label><input type="number" id="alpha-x" value="0"></div>
                    <div><label>Y位置:</label><input type="number" id="alpha-y" value="0"></div>
                    <div><label>Z位置:</label><input type="number" id="alpha-z" value="0"></div>
                    <div><label>X速度:</label><input type="number" id="alpha-vx" value="0"></div>
                    <div><label>Y速度:</label><input type="number" id="alpha-vy" value="0"></div>
                    <div><label>Z速度:</label><input type="number" id="alpha-vz" value="0"></div>
                </div>

                <div class="celestial-body">
                    <strong>恒星 β</strong>
                    <div><label>质量:</label><input type="number" id="beta-mass" value="10000"></div>
                    <div><label>X位置:</label><input type="number" id="beta-x" value="200"></div>
                    <div><label>Y位置:</label><input type="number" id="beta-y" value="0"></div>
                    <div><label>Z位置:</label><input type="number" id="beta-z" value="0"></div>
                    <div><label>X速度:</label><input type="number" id="beta-vx" value="0"></div>
                    <div><label>Y速度:</label><input type="number" id="beta-vy" value="10"></div>
                    <div><label>Z速度:</label><input type="number" id="beta-vz" value="0"></div>
                </div>

                <div class="celestial-body">
                    <strong>恒星 γ</strong>
                    <div><label>质量:</label><input type="number" id="gamma-mass" value="10000"></div>
                    <div><label>X位置:</label><input type="number" id="gamma-x" value="-200"></div>
                    <div><label>Y位置:</label><input type="number" id="gamma-y" value="0"></div>
                    <div><label>Z位置:</label><input type="number" id="gamma-z" value="0"></div>
                    <div><label>X速度:</label><input type="number" id="gamma-vx" value="0"></div>
                    <div><label>Y速度:</label><input type="number" id="gamma-vy" value="-10"></div>
                    <div><label>Z速度:</label><input type="number" id="gamma-vz" value="0"></div>
                </div>

                <div class="celestial-body">
                    <strong>行星 p</strong>
                    <div><label>质量:</label><input type="number" id="p-mass" value="10"></div>
                    <div><label>X位置:</label><input type="number" id="p-x" value="0"></div>
                    <div><label>Y位置:</label><input type="number" id="p-y" value="150"></div>
                    <div><label>Z位置:</label><input type="number" id="p-z" value="0"></div>
                    <div><label>X速度:</label><input type="number" id="p-vx" value="-15"></div>
                    <div><label>Y速度:</label><input type="number" id="p-vy" value="0"></div>
                    <div><label>Z速度:</label><input type="number" id="p-vz" value="0"></div>
                </div>
            </div>

            <div id="buttons-container">
                <div class="main-buttons">
                    <button id="updateBtn">更新参数</button>
                    <button id="randomizeBtn">随机生成</button>
                    <button id="resetBtn">重置模拟</button>
                </div>
                <div class="io-buttons">
                    <button id="exportBtn">导出参数</button>
                    <button id="importBtn">导入参数</button>
                    <input type="file" id="fileInput" accept=".json">
                </div>
            </div>

            <!-- 修改HTML中的滑块 -->
            <div id="speed-container">
                <label>模拟速度:</label>
                <div class="speed-control-wrapper">
                    <div class="speed-scale">
                        <span class="speed-scale-min">0.1x</span>
                        <span class="speed-scale-mid">1x</span>
                        <span class="speed-scale-max">300x</span>
                    </div>
                    <input type="range" id="speed-control" min="0" max="100" value="30">
                </div>
                <span id="speed-value">30.0x</span>
            </div>
        </div>
    </div>

    <div id="civilization-history-modal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h2>三体文明历程</h2>
        <div class="modal-body">
            <table id="civilization-history-table">
                <thead>
                    <tr>
                        <th>文明编号</th>
                        <th>灭亡方式</th>
                        <th>存在时间</th>
                    </tr>
                </thead>
                <tbody id="civilization-history-body">
                    <!-- 数据将通过JavaScript填充 -->
                </tbody>
            </table>
        </div>
        <div class="modal-footer">
            <button id="clear-history-btn">清除文明历史记录</button>
        </div>
    </div>
</div>

    <script src="script.js"></script>
</body>

</html>